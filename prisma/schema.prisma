// schema.prisma

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model tournament {
  id           Int      @id @default(autoincrement())
  title        String
  organizer_id String
  prix_entree  Int
  date         DateTime
  jeuId        Int // Un tournoi est associé à un seul jeu, d'où la référence à l'ID du jeu
  jeu          jeu      @relation(fields: [jeuId], references: [id]) // Relation avec le jeu
}

model jeu {
  id         Int          @id @default(autoincrement())
  nom        String
  categories categorie[]  @relation("CategorieJeu") // Relation many-to-many avec les catégories
  tournament tournament[]
}

model categorie {
  id   Int    @id @default(autoincrement())
  nom  String
  jeux jeu[]  @relation("CategorieJeu") // Relation many-to-many avec les jeux
}
